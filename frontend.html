<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TripFlow – ניהול טיולים חכם</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap');

        :root {
            color-scheme: dark;
        }

        body {
            font-family: 'Rubik', sans-serif;
        }

        .join-code-input::-webkit-outer-spin-button,
        .join-code-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .join-code-input[type=number] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen relative overflow-hidden">
    <div class="pointer-events-none absolute inset-0">
        <div class="absolute -top-44 right-[-10%] h-[28rem] w-[28rem] rounded-full bg-blue-500/40 blur-[150px]"></div>
        <div class="absolute top-1/3 left-[-18%] h-[22rem] w-[22rem] rounded-full bg-purple-500/30 blur-[160px]"></div>
        <div class="absolute bottom-[-25%] right-[-5%] h-[26rem] w-[26rem] rounded-full bg-emerald-500/25 blur-[160px]"></div>
    </div>

    <div class="relative z-10">
        <div class="mx-auto max-w-6xl px-4 py-10 sm:px-6 lg:px-8">
            <header class="flex flex-col gap-6 sm:flex-row sm:items-center sm:justify-between">
                <div class="flex items-center gap-4">
                    <div class="grid h-14 w-14 place-items-center rounded-3xl border border-blue-500/30 bg-blue-500/10 text-blue-200 shadow-lg shadow-blue-500/20">
                        <i data-lucide="compass" class="h-6 w-6"></i>
                    </div>
                    <div>
                        <p class="text-sm uppercase tracking-[0.35em] text-blue-200/60">TripFlow</p>
                        <h1 class="mt-1 text-2xl font-semibold text-white sm:text-3xl">המסע המשותף שלך מתחיל כאן</h1>
                        <p class="mt-2 text-sm text-slate-400">נהל הוצאות, חלק משימות ותכנן את החוויה המושלמת לכל חברי הקבוצה.</p>
                    </div>
                </div>
                <div class="flex flex-wrap items-center gap-3">
                    <button class="hidden rounded-2xl border border-white/10 bg-white/5 px-5 py-3 text-sm font-medium text-white/80 backdrop-blur transition hover:border-white/30 hover:text-white/95 sm:inline-flex sm:items-center sm:gap-2">
                        <i data-lucide="bell" class="h-4 w-4"></i>
                        מרכז התראות
                    </button>
                    <button class="inline-flex items-center gap-2 rounded-2xl bg-blue-500 px-5 py-3 text-sm font-semibold text-white shadow-lg shadow-blue-500/30 transition hover:bg-blue-400">
                        <i data-lucide="plus" class="h-4 w-4"></i>
                        התחלת טיול חדש
                    </button>
                </div>
            </header>

            <main class="mt-10 space-y-10">
                <section class="relative overflow-hidden rounded-[2.5rem] border border-white/10 bg-gradient-to-br from-blue-600/40 via-blue-500/10 to-slate-900/60 p-8 shadow-2xl shadow-blue-900/40 backdrop-blur-xl sm:p-10">
                    <div class="grid gap-8 md:grid-cols-[1.1fr,0.9fr] md:items-center">
                        <div>
                            <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-blue-100/80">
                                <span class="h-2 w-2 rounded-full bg-emerald-400"></span>
                                לוח זמנים חי
                            </span>
                            <h2 class="mt-6 text-3xl font-semibold leading-tight text-white sm:text-4xl">תכנן את הטיול הבא שלך בעיצוב מודרני ונקי</h2>
                            <p class="mt-4 max-w-xl text-sm leading-relaxed text-blue-100/80">TripFlow מרכז עבורך את כל הטיולים במקום אחד – מהתכנון ועד סיכום ההוצאות. צור טיולים חדשים, נהל את הפרטים הקטנים והזמן חברים להצטרף במהירות.</p>
                            <div class="mt-6 flex flex-wrap gap-3">
                                <button class="inline-flex items-center gap-2 rounded-2xl bg-white px-6 py-3 text-sm font-semibold text-slate-900 shadow-lg shadow-white/30 transition hover:bg-slate-100">
                                    <i data-lucide="play" class="h-4 w-4"></i>
                                    המשך לטיול האחרון
                                </button>
                                <button class="inline-flex items-center gap-2 rounded-2xl border border-white/30 bg-white/5 px-6 py-3 text-sm font-medium text-white/80 backdrop-blur transition hover:border-white/60 hover:text-white">
                                    <i data-lucide="share-2" class="h-4 w-4"></i>
                                    שתף עם חברים
                                </button>
                            </div>
                            <dl class="mt-8 grid gap-4 text-sm text-blue-100/80 sm:grid-cols-3">
                                <div class="rounded-2xl border border-white/15 bg-white/5 p-4">
                                    <dt class="text-xs uppercase tracking-widest text-blue-200/70">טיולים פעילים</dt>
                                    <dd class="mt-2 text-2xl font-semibold text-white">3</dd>
                                    <span class="text-xs text-blue-100/60">משותפים השבוע</span>
                                </div>
                                <div class="rounded-2xl border border-white/15 bg-white/5 p-4">
                                    <dt class="text-xs uppercase tracking-widest text-blue-200/70">חברים שיתפו</dt>
                                    <dd class="mt-2 text-2xl font-semibold text-white">18</dd>
                                    <span class="text-xs text-blue-100/60">מצטרפים חדשים</span>
                                </div>
                                <div class="rounded-2xl border border-white/15 bg-white/5 p-4">
                                    <dt class="text-xs uppercase tracking-widest text-blue-200/70">הוצאות מנוהלות</dt>
                                    <dd class="mt-2 text-2xl font-semibold text-white">₪12,450</dd>
                                    <span class="text-xs text-blue-100/60">בשלושת החודשים האחרונים</span>
                                </div>
                            </dl>
                        </div>
                        <div class="relative">
                            <div class="absolute -top-10 left-6 h-32 w-32 rounded-full bg-blue-400/30 blur-3xl"></div>
                            <div class="absolute -bottom-12 right-0 h-28 w-28 rounded-full bg-purple-500/30 blur-3xl"></div>
                            <div class="relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/70 p-6 shadow-xl backdrop-blur-xl">
                                <div class="flex items-center justify-between text-xs text-blue-100/80">
                                    <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1">
                                        <i data-lucide="map-pin" class="h-4 w-4"></i>
                                        גליל מערבי
                                    </span>
                                    <span>10.08.2025</span>
                                </div>
                                <h3 class="mt-4 text-xl font-semibold text-white">חופשת גליל קסומה</h3>
                                <p class="mt-2 text-sm text-slate-400">נוף ירוק, ארוחות משותפות ומסלולי מים מרעננים. הכל נמצא במקום אחד.</p>
                                <div class="mt-6 grid gap-4 text-sm text-slate-300 sm:grid-cols-2">
                                    <div>
                                        <p class="text-xs text-slate-400">משתתפים</p>
                                        <div class="mt-3 flex -space-x-3 rtl:space-x-reverse">
                                            <span class="grid h-9 w-9 place-items-center rounded-full border border-slate-800 bg-slate-700 text-xs font-semibold text-white">שי</span>
                                            <span class="grid h-9 w-9 place-items-center rounded-full border border-slate-800 bg-blue-600 text-xs font-semibold text-white">הילה</span>
                                            <span class="grid h-9 w-9 place-items-center rounded-full border border-slate-800 bg-emerald-600 text-xs font-semibold text-white">גיא</span>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-xs text-slate-400">הוצאה משוערת</p>
                                        <p class="mt-3 text-lg font-semibold text-emerald-300">₪2,940</p>
                                    </div>
                                </div>
                                <div class="mt-6 flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-xs text-blue-100/80">
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="sparkles" class="h-4 w-4 text-blue-200"></i>
                                        <span>משימות יומיומיות מסונכרנות</span>
                                    </div>
                                    <span class="rounded-full bg-blue-500/20 px-3 py-1 text-[0.65rem] font-semibold text-blue-100">LIVE</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="rounded-[2.25rem] border border-white/5 bg-slate-900/60 p-6 shadow-xl shadow-slate-950/40 backdrop-blur-xl sm:p-8">
                    <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
                        <div>
                            <h2 class="text-2xl font-semibold text-white">טיולים אחרונים</h2>
                            <p class="mt-2 text-sm text-slate-400">חזור במהירות לטיולים האחרונים שלך וצפה בעדכונים מהקבוצות.</p>
                        </div>
                        <div class="flex flex-wrap items-center gap-3">
                            <button class="inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/5 px-5 py-2.5 text-sm font-medium text-white/80 transition hover:border-white/40 hover:text-white">
                                <i data-lucide="rows" class="h-4 w-4"></i>
                                הצג הכל
                            </button>
                            <button class="inline-flex items-center gap-2 rounded-full bg-blue-500/90 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-blue-400">
                                <i data-lucide="history" class="h-4 w-4"></i>
                                המשך לטיול האחרון
                            </button>
                        </div>
                    </div>
                    <div class="mt-8 grid gap-4 sm:grid-cols-2 xl:grid-cols-3">
                        <article class="group relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/60 p-6 shadow-lg transition hover:-translate-y-1 hover:border-blue-400/60">
                            <div class="flex items-center justify-between text-xs text-slate-400">
                                <span class="inline-flex items-center gap-1 rounded-full bg-blue-500/10 px-3 py-1 text-blue-200">
                                    <i data-lucide="map" class="h-4 w-4"></i>
                                    גליל עליון
                                </span>
                                <span>12.04.2025</span>
                            </div>
                            <h3 class="mt-4 text-lg font-semibold text-white">סופ״ש יין בצפון</h3>
                            <p class="mt-2 text-sm leading-relaxed text-slate-400">יקבים, ספא וטיולי טבע רגועים במשך סוף שבוע מפנק עם החברים.</p>
                            <div class="mt-6 flex items-center justify-between text-sm text-slate-300">
                                <div class="flex items-center gap-2">
                                    <div class="flex -space-x-2 rtl:space-x-reverse">
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-slate-700 text-[0.7rem] font-medium text-white">אב</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-blue-600 text-[0.7rem] font-medium text-white">דנ</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-emerald-600 text-[0.7rem] font-medium text-white">מע</span>
                                    </div>
                                    <span class="text-xs text-slate-400">5 משתתפים</span>
                                </div>
                                <span class="text-sm font-semibold text-emerald-300">₪3,420</span>
                            </div>
                            <button class="mt-6 flex w-full items-center justify-center gap-2 rounded-2xl bg-white/5 px-4 py-3 text-sm font-medium text-white transition hover:bg-blue-500/80 hover:text-white">
                                <i data-lucide="arrow-up-right" class="h-4 w-4"></i>
                                פתח טיול
                            </button>
                        </article>
                        <article class="group relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/60 p-6 shadow-lg transition hover:-translate-y-1 hover:border-emerald-400/60">
                            <div class="flex items-center justify-between text-xs text-slate-400">
                                <span class="inline-flex items-center gap-1 rounded-full bg-emerald-500/10 px-3 py-1 text-emerald-200">
                                    <i data-lucide="trees" class="h-4 w-4"></i>
                                    רמת הגולן
                                </span>
                                <span>28.05.2025</span>
                            </div>
                            <h3 class="mt-4 text-lg font-semibold text-white">טיול שטח וחוויות</h3>
                            <p class="mt-2 text-sm leading-relaxed text-slate-400">מסלולי ג׳יפים, מעיינות חמים וארוחות משותפות מסביב למדורה.</p>
                            <div class="mt-6 flex items-center justify-between text-sm text-slate-300">
                                <div class="flex items-center gap-2">
                                    <div class="flex -space-x-2 rtl:space-x-reverse">
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-slate-700 text-[0.7rem] font-medium text-white">ליה</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-indigo-600 text-[0.7rem] font-medium text-white">שי</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-emerald-600 text-[0.7rem] font-medium text-white">עיד</span>
                                    </div>
                                    <span class="text-xs text-slate-400">6 משתתפים</span>
                                </div>
                                <span class="text-sm font-semibold text-emerald-300">₪5,870</span>
                            </div>
                            <button class="mt-6 flex w-full items-center justify-center gap-2 rounded-2xl bg-white/5 px-4 py-3 text-sm font-medium text-white transition hover:bg-emerald-500/80 hover:text-white">
                                <i data-lucide="arrow-up-right" class="h-4 w-4"></i>
                                פתח טיול
                            </button>
                        </article>
                        <article class="group relative overflow-hidden rounded-3xl border border-white/10 bg-slate-900/60 p-6 shadow-lg transition hover:-translate-y-1 hover:border-purple-400/60">
                            <div class="flex items-center justify-between text-xs text-slate-400">
                                <span class="inline-flex items-center gap-1 rounded-full bg-purple-500/10 px-3 py-1 text-purple-200">
                                    <i data-lucide="sun" class="h-4 w-4"></i>
                                    אילת וים סוף
                                </span>
                                <span>03.06.2025</span>
                            </div>
                            <h3 class="mt-4 text-lg font-semibold text-white">חופשה משפחתית מפנקת</h3>
                            <p class="mt-2 text-sm leading-relaxed text-slate-400">אטרקציות, ארוחות משותפות וחוויות בלתי נשכחות בעיר הנופש של ישראל.</p>
                            <div class="mt-6 flex items-center justify-between text-sm text-slate-300">
                                <div class="flex items-center gap-2">
                                    <div class="flex -space-x-2 rtl:space-x-reverse">
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-slate-700 text-[0.7rem] font-medium text-white">מא</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-blue-600 text-[0.7rem] font-medium text-white">גא</span>
                                        <span class="grid h-8 w-8 place-items-center rounded-full border border-slate-800 bg-rose-600 text-[0.7rem] font-medium text-white">ליא</span>
                                    </div>
                                    <span class="text-xs text-slate-400">8 משתתפים</span>
                                </div>
                                <span class="text-sm font-semibold text-emerald-300">₪7,320</span>
                            </div>
                            <button class="mt-6 flex w-full items-center justify-center gap-2 rounded-2xl bg-white/5 px-4 py-3 text-sm font-medium text-white transition hover:bg-purple-500/80 hover:text-white">
                                <i data-lucide="arrow-up-right" class="h-4 w-4"></i>
                                פתח טיול
                            </button>
                        </article>
                    </div>
                </section>
                <section class="grid gap-6 lg:grid-cols-[minmax(0,1.1fr),minmax(0,0.9fr)]">
                    <div class="relative overflow-hidden rounded-[2.25rem] border border-white/10 bg-gradient-to-br from-blue-600/80 via-indigo-600/70 to-slate-900/60 p-8 shadow-2xl shadow-blue-900/50">
                        <div class="absolute -top-10 left-10 h-28 w-28 rounded-full bg-white/10 blur-2xl"></div>
                        <div class="absolute inset-x-8 bottom-0 h-24 rounded-full bg-blue-500/30 blur-3xl"></div>
                        <div class="relative z-10">
                            <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-blue-100/80">
                                <i data-lucide="sparkles" class="h-4 w-4"></i>
                                יצירת טיול
                            </span>
                            <h2 class="mt-4 text-2xl font-semibold text-white">חוויית יצירה ידידותית ואלגנטית</h2>
                            <p class="mt-3 max-w-xl text-sm text-blue-100/80">ספר לנו על היעד והאווירה. נייצר עבורך קוד שיתוף, נצור משימות ונעדכן את התקציב עוד לפני שהטיול מתחיל.</p>
                            <form id="create-trip-form" class="mt-6 space-y-5">
                                <label class="block text-sm font-medium text-blue-100/80">
                                    שם הטיול
                                    <div class="relative mt-2">
                                        <i data-lucide="pen" class="pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-blue-100/70"></i>
                                        <input id="trip-name" type="text" placeholder="לדוגמה: בריחה לגליל" class="w-full rounded-2xl border border-white/20 bg-white/15 px-5 py-3 text-sm text-white placeholder:text-white/50 shadow-inner shadow-blue-900/50 outline-none transition focus:border-white/60 focus:bg-white/20" required>
                                    </div>
                                </label>
                                <div class="grid gap-4 sm:grid-cols-2">
                                    <label class="block text-sm font-medium text-blue-100/80">
                                        תאריך התחלה
                                        <div class="relative mt-2">
                                            <i data-lucide="calendar" class="pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-blue-100/70"></i>
                                            <input id="trip-date" type="date" class="w-full rounded-2xl border border-white/20 bg-white/15 px-5 py-3 text-sm text-white shadow-inner shadow-blue-900/50 outline-none transition focus:border-white/60 focus:bg-white/20" required>
                                        </div>
                                    </label>
                                    <label class="block text-sm font-medium text-blue-100/80">
                                        תקציב ראשוני (אופציונלי)
                                        <div class="relative mt-2">
                                            <i data-lucide="wallet" class="pointer-events-none absolute right-4 top-1/2 h-4 w-4 -translate-y-1/2 text-blue-100/70"></i>
                                            <input id="trip-budget" type="number" inputmode="numeric" min="0" placeholder="₪ 3,000" class="w-full rounded-2xl border border-white/20 bg-white/15 px-5 py-3 text-sm text-white placeholder:text-white/50 shadow-inner shadow-blue-900/50 outline-none transition focus:border-white/60 focus:bg-white/20">
                                        </div>
                                    </label>
                                </div>
                                <label class="block text-sm font-medium text-blue-100/80">
                                    תיאור קצר
                                    <div class="relative mt-2">
                                        <textarea id="trip-description" rows="3" placeholder="מה הופך את הטיול הזה למיוחד?" class="w-full rounded-2xl border border-white/20 bg-white/15 px-5 py-3 text-sm text-white placeholder:text-white/50 shadow-inner shadow-blue-900/50 outline-none transition focus:border-white/60 focus:bg-white/20"></textarea>
                                    </div>
                                </label>
                                <div class="grid gap-4 lg:grid-cols-[minmax(0,1fr),220px] lg:items-start">
                                    <button type="submit" class="flex items-center justify-center gap-2 rounded-2xl bg-white px-6 py-3 text-sm font-semibold text-slate-900 shadow-lg shadow-white/40 transition hover:bg-slate-100">
                                        <i data-lucide="rocket" class="h-4 w-4"></i>
                                        צור טיול מרגש
                                    </button>
                                    <div class="rounded-2xl border border-white/20 bg-white/10 p-4 text-sm text-blue-100/80">
                                        <p class="text-xs uppercase tracking-[0.3em] text-blue-200/70">תצוגה מקדימה</p>
                                        <h3 id="trip-preview-title" class="mt-3 text-lg font-semibold text-white">טיול ללא שם</h3>
                                        <p class="mt-2 flex items-center gap-2 text-xs text-blue-100/70">
                                            <i data-lucide="clock" class="h-4 w-4"></i>
                                            <span id="trip-preview-date">בחר תאריך</span>
                                        </p>
                                        <p id="trip-preview-note" class="mt-3 text-xs leading-relaxed text-blue-50/80">הוסף כמה מילים כדי לספר לחברים למה לצפות בטיול הבא שלכם.</p>
                                    </div>
                                </div>
                                <div id="create-feedback" class="rounded-2xl bg-emerald-500/10 px-5 py-3 text-sm font-medium text-emerald-200 opacity-0 transition-opacity"></div>
                            </form>
                        </div>
                    </div>

                    <div class="relative overflow-hidden rounded-[2.25rem] border border-white/10 bg-slate-900/70 p-8 shadow-2xl shadow-slate-950/40">
                        <div class="absolute -top-12 right-8 h-28 w-28 rounded-full bg-emerald-500/20 blur-3xl"></div>
                        <div class="absolute inset-x-6 bottom-0 h-28 rounded-full bg-blue-500/10 blur-2xl"></div>
                        <div class="relative z-10">
                            <span class="inline-flex items-center gap-2 rounded-full bg-white/5 px-4 py-2 text-xs font-semibold uppercase tracking-[0.35em] text-slate-200/80">
                                <i data-lucide="users" class="h-4 w-4"></i>
                                הצטרפות לטיול
                            </span>
                            <h2 class="mt-4 text-2xl font-semibold text-white">הצטרפות אלגנטית לטיול קיים</h2>
                            <p class="mt-3 text-sm text-slate-400">קיבלת קוד? הזן אותו כאן והצטרף מיידית לטיול החברים. אין צורך בהרשמה מחדש.</p>
                            <form id="join-trip-form" class="mt-6 space-y-6">
                                <div>
                                    <p class="text-xs font-medium uppercase tracking-[0.25em] text-slate-400">קוד טיול</p>
                                    <div dir="ltr" class="mt-3 flex items-center justify-between gap-2">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                        <input class="join-code-input h-14 w-12 rounded-2xl border border-white/15 bg-slate-800/60 text-center text-lg font-semibold tracking-widest text-white shadow-inner shadow-slate-950/60 outline-none transition focus:border-blue-400/80 focus:bg-slate-900 focus:ring-2 focus:ring-blue-400/50" maxlength="1" inputmode="text" autocomplete="one-time-code">
                                    </div>
                                    <button id="join-paste-btn" type="button" class="mt-3 inline-flex items-center gap-2 text-xs font-medium text-blue-200/80 transition hover:text-blue-100">
                                        <i data-lucide="clipboard-paste" class="h-4 w-4"></i>
                                        הדבק קוד מהלוח
                                    </button>
                                </div>
                                <div class="space-y-3">
                                    <p class="text-xs font-medium uppercase tracking-[0.3em] text-slate-400">תצוגה מקדימה</p>
                                    <div dir="ltr" class="flex items-center justify-between rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm text-white">
                                        <div class="inline-flex items-center gap-2 text-blue-200/80">
                                            <i data-lucide="key" class="h-4 w-4"></i>
                                            קוד שיתוף
                                        </div>
                                        <span id="join-code-preview" class="font-mono text-lg tracking-[0.45em] text-white/90">———</span>
                                    </div>
                                </div>
                                <button type="submit" class="flex w-full items-center justify-center gap-2 rounded-2xl bg-emerald-500/90 px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:bg-emerald-400">
                                    <i data-lucide="log-in" class="h-4 w-4"></i>
                                    הצטרף לטיול
                                </button>
                                <div id="join-feedback" class="rounded-2xl px-4 py-3 text-sm font-medium opacity-0 transition-all"></div>
                            </form>
                            <p class="mt-6 text-xs text-slate-500">ניתן גם לשתף קישור ישיר לחברים – הוא יעבוד בדיוק כמו קוד ההזמנה.</p>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            const codeInputs = Array.from(document.querySelectorAll('.join-code-input'));
            const joinPreview = document.getElementById('join-code-preview');
            const joinFeedback = document.getElementById('join-feedback');
            const joinForm = document.getElementById('join-trip-form');
            const joinPaste = document.getElementById('join-paste-btn');

            const formatPreview = (code) => {
                if (!code) return '———';
                const groups = code.match(/.{1,3}/g);
                return groups ? groups.join('-') : code;
            };

            const resetJoinFeedback = () => {
                joinFeedback.classList.add('opacity-0');
                joinFeedback.textContent = '';
                joinFeedback.classList.remove('bg-emerald-500/10', 'bg-rose-500/10', 'text-emerald-200', 'text-rose-200');
            };

            const updateJoinPreview = () => {
                const code = codeInputs.map((input) => input.value).join('').toUpperCase();
                joinPreview.textContent = formatPreview(code);
                if (!code) {
                    resetJoinFeedback();
                }
            };

            const showJoinFeedback = (message, isError) => {
                joinFeedback.textContent = message;
                joinFeedback.classList.remove('opacity-0');
                joinFeedback.classList.remove('bg-emerald-500/10', 'bg-rose-500/10', 'text-emerald-200', 'text-rose-200');
                joinFeedback.classList.add(isError ? 'bg-rose-500/10' : 'bg-emerald-500/10');
                joinFeedback.classList.add(isError ? 'text-rose-200' : 'text-emerald-200');
            };

            codeInputs.forEach((input, index) => {
                input.addEventListener('input', (event) => {
                    const value = event.target.value.replace(/[^a-zA-Z0-9]/g, '').toUpperCase();
                    event.target.value = value;
                    if (value && index < codeInputs.length - 1) {
                        codeInputs[index + 1].focus();
                        codeInputs[index + 1].select();
                    }
                    updateJoinPreview();
                });

                input.addEventListener('keydown', (event) => {
                    if (event.key === 'Backspace' && !event.target.value && index > 0) {
                        codeInputs[index - 1].focus();
                        codeInputs[index - 1].select();
                    }
                });
            });

            if (joinForm) {
                joinForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    const code = codeInputs.map((input) => input.value).join('');
                    if (code.length < codeInputs.length) {
                        showJoinFeedback('אנא הזן קוד מלא כדי להצטרף לטיול.', true);
                        return;
                    }
                    showJoinFeedback(`קוד הטיול הוזן בהצלחה: ${formatPreview(code.toUpperCase())}.`, false);
                });
            }

            if (joinPaste) {
                joinPaste.addEventListener('click', async () => {
                    try {
                        const clipboardText = (await navigator.clipboard.readText()) || '';
                        const cleaned = clipboardText.replace(/[^a-zA-Z0-9]/g, '').toUpperCase().slice(0, codeInputs.length);
                        codeInputs.forEach((input, index) => {
                            input.value = cleaned[index] || '';
                        });
                        const focusIndex = Math.min(cleaned.length, codeInputs.length - 1);
                        if (codeInputs[focusIndex]) {
                            codeInputs[focusIndex].focus();
                            codeInputs[focusIndex].select();
                        }
                        updateJoinPreview();
                    } catch (error) {
                        showJoinFeedback('לא ניתן לקרוא מהלוח. ודאו שהרשאתם גישה.', true);
                    }
                });
            }

            const tripNameInput = document.getElementById('trip-name');
            const tripDateInput = document.getElementById('trip-date');
            const tripDescriptionInput = document.getElementById('trip-description');
            const tripPreviewTitle = document.getElementById('trip-preview-title');
            const tripPreviewDate = document.getElementById('trip-preview-date');
            const tripPreviewNote = document.getElementById('trip-preview-note');
            const createForm = document.getElementById('create-trip-form');
            const createFeedback = document.getElementById('create-feedback');

            const formatDate = (value) => {
                if (!value) return '';
                try {
                    return new Date(value).toLocaleDateString('he-IL', { day: '2-digit', month: 'long' });
                } catch (error) {
                    return value;
                }
            };

            const updateCreatePreview = () => {
                tripPreviewTitle.textContent = tripNameInput.value || 'טיול ללא שם';
                tripPreviewDate.textContent = tripDateInput.value ? formatDate(tripDateInput.value) : 'בחר תאריך';
                if (tripDescriptionInput.value.trim()) {
                    const text = tripDescriptionInput.value.trim();
                    tripPreviewNote.textContent = text.length > 80 ? `${text.slice(0, 77)}…` : text;
                } else {
                    tripPreviewNote.textContent = 'הוסף כמה מילים כדי לספר לחברים למה לצפות בטיול הבא שלכם.';
                }
            };

            [tripNameInput, tripDateInput, tripDescriptionInput].forEach((input) => {
                input.addEventListener('input', updateCreatePreview);
            });

            if (createForm) {
                createForm.addEventListener('submit', (event) => {
                    event.preventDefault();
                    updateCreatePreview();
                    createFeedback.textContent = 'טיול חדש נוצר! שתפו את הקוד עם החברים כדי להתחיל לתכנן יחד.';
                    createFeedback.classList.remove('opacity-0');
                });
            }

            updateCreatePreview();
            updateJoinPreview();
        });
    </script>
</body>
</html>
